<!DOCTYPE html>

<head>
  <script type="importmap">
    {
      "imports": {
        "@redux/tookit": "/scripts/deps/redux_bundled.js",
        "wctk": "/scripts/deps/wctk_bundled.js",
        "components": "/scripts/components/mod.js"
      }
    }
  </script>
  <script type="module" src="/scripts/datastore/mod.js"></script>
</head>
<body>
  <header>
    <h2>
      <span>WCTK</span> + <span>Redux</span>
    </h2>
    <p>
      The example below demonstrates how to subscribe webcomponents
      to a redux datastore using
      <a href="https://github.com/w-lfpup/wctk-js/" target="_blank">the web component toolkit</a>.
    </p>
    <p>
      The <span>shape-controls</span> component dispatches actions to a datastore, while the <span>shape-list</span>
      and <span>shape-count</span> components listen for state updates from the datastore.
    </p>
  </header>
  <main>
    <section>
      <shape-controls>
        <template shadowrootmode="closed">
          <div>
            <button action="decrement_circles">-</button>
            circles
            <button action="increment_circles">+</button>
          </div>
          <div>
            <button action="decrement_squares">-</button>
            squares
            <button action="increment_squares">+</button>
          </div>
          <button action="reset">reset</button>
        </template>
      </shape-controls>
      <shape-table>
        <template shadowrootmode="closed">
          <table>
            <tr>
              <td>
                <slot name="circle-count"></slot>
              </td>
              <td>circles</td>
            </tr>
            <tr>
              <td>
                <slot name="square-count"></slot>
              </td>
              <td>squares</td>
            </tr>
            <tr>
              <td>
                <slot name="total-count"></slot>
              </td>
              <td>total</td>
            </tr>
          </table>
        </template>

        <span slot="circle-count">3</span>
        <span slot="square-count">7</span>
        <span slot="total-count">10</span>
      </shape-table>
    </section>
    <shape-ul>
      <template shadowrootmode="open">
        <ul>
          <slot></slot>
        </ul>
      </template>

      <li class="circle">o</li>
      <li class="square">[ ]</li>
      <li class="square">[ ]</li>
      <li class="circle">o</li>
      <li class="square">[ ]</li>
      <li class="square">[ ]</li>
      <li class="square">[ ]</li>
      <li class="circle">o</li>
      <li class="square">[ ]</li>
    </shape-ul>
  </main>
</body>
